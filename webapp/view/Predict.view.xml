<mvc:View controllerName="de.tum.in.i17.leonardo.ws1718.salesanalytics.controller.Predict"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:u="sap.ui.unified"
	xmlns:l="sap.ui.layout"
	xmlns:core="sap.ui.core"
	xmlns="sap.m"
	xmlns:commons="sap.suite.ui.commons"
	xmlns:viz="sap.viz.ui5.controls"
	xmlns:smartchart="sap.ui.comp.smartchart"
	xmlns:footerbar="sap.ushell.ui.footerbar"
	xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	xmlns:custom="de.tum.in.i17.leonardo.ws1718.salesanalytics.controls">
	
	<SplitContainer id="SplitView" initialDetail="detail" initialMaster="master">
		<masterPages>
        	<Page id="master" title="{i18n>settings}">
        		<headerContent>
        			<Button icon="sap-icon://navigation-right-arrow" press="onNavToDetail" visible="{= !!${device>/system/phone} }" />
        		</headerContent>
        	    <content>
				    <custom:Panel headerText="{i18n>timeframe}" expandable="true" expanded="true" >
				        <custom:content>
				            <VBox class="sapUiSmallMarginBottom">
				                <Label text="{i18n>labelDateNow}" labelFor="DateRangeNow"/>
					            <DateRangeSelection
                        			id="DateRangeNow"
                        			dateValue="{path:'/dateStart1'}"
                        			secondDateValue="{path:'/dateEnd1'}"
                        			displayFormat="MMM yyy"
                        			change="onDate1Select"
                        		/>
                                <Label text="{i18n>labelDatePredict}" labelFor="DateRangeFuture" class="sapUiSmallMarginTop" />
					            <DateRangeSelection
                        			id="DateRangeFuture"
                        			dateValue="{path:'/dateStart2'}"
                        			secondDateValue="{path:'/dateEnd2'}"
                        			displayFormat="MMM yyy"
                        			change="onDate2Select"
                        		/>
					        </VBox>
                        </custom:content>
                    </custom:Panel>
				    <custom:Panel headerText="{i18n>productListCurrent}" expandable="true" expanded="true"
				     class="sapUiNoContentPadding" >
				        <custom:content>
                	        <List id="ProductList" 
                	            mode="Delete"
                	            delete="onDeleteSelectedListItem" 
                	            noDataText="{i18n>productListEmpty}" 
                	            items="{ path:'/ProductGroupList', 
                	                     sorter: [ 
                	                        { path: 'salesOrg', descending: false, group: true }, 
                	                        { path: 'key' } ], 
                	                     groupHeaderFactory: '.grouper.getProductListGroup'}">
                                <StandardListItem icon="sap-icon://product" data:key="{key}" data:salesorg="{salesOrg}" title="{path: 'key', formatter: '.formatter.setEmptyText'}" />
                            </List>
                        </custom:content>
                    </custom:Panel>
        	    </content>
        	    <footer>
        			<OverflowToolbar>
            		    <Button type="Accept" icon="sap-icon://add" text="{i18n>new}" class="sapUiTinyMarginBegin" press="onAddNewListItemDialog" />
        			</OverflowToolbar>
        		</footer>
		    </Page>
		</masterPages>
		<detailPages>
        	<Page id="detail" title="{/pageTitle}" showNavButton="{= !!${device>/system/phone} }" >
        		<headerContent>
    				<Button id="shareButton" tooltip="{i18n>shareTooltip}" icon="sap-icon://action" press="onSharePress">
    					<dependents>
    						<ActionSheet id="shareSheet" showCancelButton="true" placement="Bottom">
    							<buttons>
    								<Button id="shareNative" icon="sap-icon://share-2" text="{i18n>shareNative}" press="onShareNativePress" visible="{path:'', formatter:'.formatter.canShareNative'}" />
    								<Button id="shareEmail" icon="sap-icon://email" text="{i18n>shareSendEmail}" press="onShareEmailPress"/>
    								<Button id="shareInJam" icon="sap-icon://jam" text="{i18n>shareOnJamTitle}" press="onShareInJamPress" visible="{FLP>/isShareInJamActive}"/>
    								<footerbar:AddBookmarkButton id="shareTile" appData="{ path: '/pageTitle', formatter: '.formatter.shareTileData' }"/>
    							</buttons>
    						</ActionSheet>
    					</dependents>
    				</Button>
        		</headerContent>
        		
            	<IconTabBar
            		id="IconTabBarChartTypes"
            		select="onSwitchChartType"
	                stretchContentHeight="true"
            		expanded="true"
            		expandable="false"
            		class="sapUiResponsiveContentPadding">
            		<items>
            			<IconTabFilter icon="sap-icon://horizontal-bar-chart-2" text="Bar Chart" key="bar" />
            			<IconTabFilter icon="sap-icon://vertical-bar-chart" text="Column Chart" key="column" />
            			<IconTabFilter icon="sap-icon://horizontal-stacked-chart" text="Stacked Bars" key="stacked_bar" />
            			<IconTabFilter icon="sap-icon://vertical-stacked-chart" text="Stacked Columns" key="stacked_column" />
            			<IconTabFilter icon="sap-icon://line-chart" text="Line Chart" key="line" />
            			<IconTabFilter icon="sap-icon://bubble-chart" text="Bubble Chart" key="bubble" />
            			<IconTabFilter icon="sap-icon://donut-chart" text="Donut" key="donut" />
            			<IconTabFilter icon="sap-icon://pie-chart" text="Pie Chart" key="pie" />
            			<IconTabFilter icon="sap-icon://heatmap-chart" text="Heatmap" key="heatmap" />
            			<IconTabFilter icon="sap-icon://horizontal-waterfall-chart" text="Waterfall" key="horizontal_waterfall" />
            			<IconTabFilter icon="sap-icon://vertical-waterfall-chart" text="Waterfall" key="waterfall" />
            			<IconTabFilter icon="sap-icon://horizontal-bullet-chart" text="Bullet" key="bullet" />
            			<IconTabFilter icon="sap-icon://vertical-bullet-chart" text="Bullet" key="vertical_bullet" />
            			<IconTabFilter icon="sap-icon://scatter-chart" text="Scatter" key="timeseries_scatter" />
            		</items>
            		<content>
                            <commons:ChartContainer id="ChartContainer" showFullScreen="true" autoAdjustHeight="true" showLegend="true" 
                                class="ChartContainerHeader" showPersonalization="false" contentChange="attachContentChange">
                                <commons:content>
                                    <commons:ChartContainerContent icon="sap-icon://horizontal-bar-chart">
                                        <commons:content>
                                            <viz:VizFrame id="VizFrame" uiConfig="{applicationSet:'fiori'}"></viz:VizFrame>
                                        </commons:content>
                                    </commons:ChartContainerContent>
                                </commons:content>
                            </commons:ChartContainer>
            		</content>
            	</IconTabBar>
                	
        	</Page>
		</detailPages>
	</SplitContainer>
</mvc:View>